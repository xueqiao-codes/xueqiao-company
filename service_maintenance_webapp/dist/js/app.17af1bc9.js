(function(e){function t(t){for(var n,o,r=t[0],c=t[1],l=t[2],u=0,h=[];u<r.length;u++)o=r[u],i[o]&&h.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},"0554":function(e,t,a){"use strict";var n=a("410e"),i=a.n(n);i.a},1220:function(e,t,a){},1342:function(e,t,a){"use strict";var n=a("fc7e"),i=a.n(n);i.a},"154e":function(e,t,a){"use strict";var n=a("9dcb"),i=a.n(n);i.a},"267d":function(e,t,a){},"3a4e":function(e,t,a){"use strict";var n=a("9fce"),i=a.n(n);i.a},"40f0":function(e,t,a){"use strict";var n=a("1220"),i=a.n(n);i.a},"410e":function(e,t,a){},4805:function(e,t,a){"use strict";var n=a("897e"),i=a.n(n);i.a},5495:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],o={name:"app"},r=o,c=(a("034f"),a("2877")),l=Object(c["a"])(r,i,s,!1,null,null,null),d=l.exports,u=a("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},p=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("h1",[e._v(e._s(e.msg))]),e._m(0),a("h3",[e._v("Installed CLI Plugins")]),e._m(1),a("h3",[e._v("Essential Links")]),e._m(2),a("h3",[e._v("Ecosystem")]),e._m(3)])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n    For a guide and recipes on how to configure / customize this project,"),a("br"),e._v("\n    check out the\n    "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(".\n  ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],g={name:"HelloWorld",props:{msg:String}},f=g,y=(a("4805"),Object(c["a"])(f,m,v,!1,null,"b9167eee",null)),_=y.exports,C={name:"home",components:{HelloWorld:_}},T=C,S=Object(c["a"])(T,h,p,!1,null,null,null),b=S.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/maintenance"}}},[e._v("公司管理 服务维护")])],1)],1),a("div",{staticClass:"header"},[a("div",{staticClass:"header-text"},[e._v("公司管理")]),a("ul",{staticClass:"header-tab"},[a("li",{on:{click:e.gotoTabCompanyList}},[e._v("公司列表")]),a("li",{staticClass:"active"},[e._v("服务维护")]),a("li",{on:{click:e.gotoTabPlan}},[e._v("维护计划")])])]),a("div",{staticClass:"body"},[a("div",{staticClass:"body-header"},[a("div",{staticClass:"body-header-left"},[a("span",[e._v("公司ID：")]),a("el-input",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"公司ID",clearable:""},model:{value:e.searchKeyCompanyId,callback:function(t){e.searchKeyCompanyId=t},expression:"searchKeyCompanyId"}}),a("span",[e._v("公司名称：")]),a("el-input",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"公司名称",clearable:""},model:{value:e.searchKeyCompanyName,callback:function(t){e.searchKeyCompanyName=t},expression:"searchKeyCompanyName"}}),a("span",[e._v("版本：")]),a("el-select",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"版本",clearable:""},model:{value:e.searchKeyVersionTag,callback:function(t){e.searchKeyVersionTag=t},expression:"searchKeyVersionTag"}},e._l(e.existVersionTags,function(e){return a("el-option",{key:e.versionId,attrs:{label:e.versionTag,value:e.versionTag}})}),1),a("span",[e._v("维护时间段：")]),a("el-select",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"维护时间段",clearable:""},model:{value:e.searchKeyMaintenanceTimeSpan,callback:function(t){e.searchKeyMaintenanceTimeSpan=t},expression:"searchKeyMaintenanceTimeSpan"}},e._l(e.MAINTENANCE_TIMESPAN,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("span",[e._v("维护状态：")]),a("el-select",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"维护状态",clearable:""},model:{value:e.searchKeyMaintenanceState,callback:function(t){e.searchKeyMaintenanceState=t},expression:"searchKeyMaintenanceState"}},e._l(e.MAINTENANCE_STATE,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-button",{staticClass:"body-header-component",attrs:{type:"primary",size:"small"},on:{click:e.query}},[e._v("查询")])],1),a("div",{staticClass:"body-header-right"},[a("el-button",{staticClass:"body-header-component",attrs:{type:"primary",size:"small"},on:{click:e.showAddUpdatePlanDialog}},[e._v("升级")])],1)]),a("div",{staticClass:"body-content"},[a("table",[e._m(0),e._l(e.maintenanceList,function(t,n){return a("tr",{key:n},[a("td",{class:e.getItemClass(t)},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCompanyIds,expression:"selectedCompanyIds"}],attrs:{type:"checkbox",id:t.companyId},domProps:{value:t.companyId,checked:Array.isArray(e.selectedCompanyIds)?e._i(e.selectedCompanyIds,t.companyId)>-1:e.selectedCompanyIds},on:{change:function(a){var n=e.selectedCompanyIds,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.companyId,r=e._i(n,o);i.checked?r<0&&(e.selectedCompanyIds=n.concat([o])):r>-1&&(e.selectedCompanyIds=n.slice(0,r).concat(n.slice(r+1)))}else e.selectedCompanyIds=s}}})]),a("td",{class:e.getItemClass(t)},[e._v(e._s(t.companyId))]),a("td",{class:e.getItemClass(t)},[e._v(e._s(t.companyName))]),a("td",{class:e.getItemClass(t)},[e._v(e._s(t.companyCode))]),t.keepLatest?a("td",{class:e.getItemClass(t)},[e._v("Latest")]):a("td",{class:e.getItemClass(t)},[e._v(e._s(t.versionTag))]),a("td",{class:e.getItemClass(t)},e._l(t.maintenanceTimeSpans,function(t,n){return a("span",{key:n,staticClass:"tabItem"},[e._v("\n              "+e._s(e.MAINTENANCE_TIMESPAN[t].label)+"\n            ")])}),0),a("td",{class:e.getItemClass(t)},[e._v(e._s(e.MAINTENANCE_STATE[t.maintenanceState].label))]),a("td",{class:e.getItemClass(t)},[a("a",{attrs:{href:"#"},on:{click:function(a){e.gotoServiceDetailPage(t)}}},[e._v("查看")])]),a("td",{class:e.getItemClass(t)},[a("a",{attrs:{href:"#"},on:{click:function(a){e.showMaintenanceHistoryDialog(t)}}},[e._v("查看")])]),a("td",{class:e.getItemClass(t)},[1==e.showOperation(t)?a("a",{staticClass:"tabItem",attrs:{href:"#"},on:{click:function(a){e.showInitVersionDialog(t)}}},[e._v("初始化")]):e._e(),2==e.showOperation(t)?a("a",{staticClass:"tabItem",attrs:{href:"#"},on:{click:function(a){e.showSettingDialog(t)}}},[e._v("设置")]):e._e(),a("a",{staticClass:"tabItem",attrs:{href:"#"},on:{click:function(a){e.showRollbackDialog(t)}}},[e._v("回退")])])])})],2),e.nodata?a("div",{staticClass:"body-content-nodata"},[e._v("无数据")]):e._e()]),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes, prev, pager, next, jumper",total:e.totalNum,"page-size":e.pageSize,"current-page":e.currentPage},on:{"size-change":e.handleSizeChange,"current-change":e.onPageChange}})],1)]),a("dialog-update",{attrs:{isShow:e.isShowUpdateDialog,companyIds:e.selectedCompanyIds},on:{confirm:e.confirmUpdate,close:e.cancelUpdate}}),a("dialog-rollback",{attrs:{isShow:e.isShowRollbackDialog,companyId:e.selectedCompanyId},on:{confirm:e.confirmRollback,close:e.cancelRollback}}),a("dialog-maintenance",{attrs:{isShow:e.isShowMaintenanceHistoryDialog,companyId:e.selectedCompanyId,companyName:e.selectedCompanyName},on:{close:e.closeMaintenanceHistoryDialog}}),a("dialog-version-tag",{attrs:{isShow:e.isSHowSetVersionTagDialog,maintenance:e.selectedMaintenance},on:{confirm:e.confirmSetVersionTag,close:e.closeSetVersionTagDialog}}),a("dialog-init-version",{attrs:{isShow:e.isShowInitVersionDialog,maintenance:e.selectedMaintenance},on:{confirm:e.confirmInitVersionDialog,close:e.closeInitVersionDialog}})],1)},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{attrs:{bgColor:"#F8FCFF"}},[a("th",{attrs:{width:"50"}}),a("th",{attrs:{width:"150"}},[e._v("公司ID")]),a("th",{attrs:{width:"400"}},[e._v("公司名称")]),a("th",{attrs:{width:"300"}},[e._v("公司登录名")]),a("th",{attrs:{width:"150"}},[e._v("公司版本")]),a("th",{attrs:{width:"300"}},[e._v("维护时段")]),a("th",{attrs:{width:"150"}},[e._v("维护状态")]),a("th",{attrs:{width:"150"}},[e._v("云服务详情")]),a("th",{attrs:{width:"150"}},[e._v("维护记录")]),a("th",{attrs:{width:"150"}},[e._v("操作")])])}],E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"dialog-bg"},[n("div",{staticClass:"dialog-container"},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[e._v("添加升级计划")]),n("div",{staticClass:"dialog-close"},[n("a",{attrs:{href:"#"},on:{click:e.close}},[n("img",{attrs:{src:a("6cef")}})])])]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"input-item"},[e._m(0),n("div",{staticClass:"input-value my-input-value"},[n("el-select",{staticClass:"my-input-value",attrs:{placeholder:"请选择"},model:{value:e.selectedTargetVersionId,callback:function(t){e.selectedTargetVersionId=t},expression:"selectedTargetVersionId"}},e._l(e.upgradeVersionInfoList,function(e){return n("el-option",{key:e.versionId,attrs:{label:e.versionTag,value:e.versionId}})}),1)],1)])]),n("div",{staticClass:"dialog-button-container"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.confirm}},[e._v("确定")]),n("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取消")])],1)])]):e._e()},w=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-key"},[a("span",[e._v("选择版本：")])])}],A={props:["isShow","companyIds"],data:function(){return{selectedTargetVersionId:null,upgradeVersionInfoList:[]}},mounted:function(){},watch:{isShow:function(){this.isShow&&(this.projectName=null,this.projectDescription=null,this.queryCompanyUpgradeVersion())}},methods:{close:function(){this.$emit("close")},confirm:function(){this.doAddition()},checkParams:function(){return this.companyIds?this.selectedTargetVersionId?0:(alert("请选择版本"),1):(alert("页面过期，请刷新后再尝试"),1)},doAddition:function(){if(!this.checkParams()){var e=this,t=new NewUpgradeSchedule;t.companyIds=this.companyIds,t.targetVersionId=this.selectedTargetVersionId,t.operator=this.$util.getOaUserName(),this.$api.addUpgradeSchedule(t,function(t){null!=t&&t.errorMsg?alert(t.errorMsg):(alert("添加成功"),e.$emit("confirm"))})}},queryCompanyUpgradeVersion:function(){var e=this,t=this.companyIds;this.$api.reqCompanyUpgradeVersion(t,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return void(e.upgradeVersionInfoList=[]);e.upgradeVersionInfoList=t}})}}},O=A,k=(a("3a4e"),Object(c["a"])(O,E,w,!1,null,"722d2f80",null)),P=k.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"dialog-bg"},[n("div",{staticClass:"dialog-container"},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[e._v("添加回退计划(公司ID："+e._s(e.companyId)+")")]),n("div",{staticClass:"dialog-close"},[n("a",{attrs:{href:"#"},on:{click:e.close}},[n("img",{attrs:{src:a("6cef")}})])])]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"input-item"},[e._m(0),n("div",{staticClass:"input-value my-input-value"},[n("el-select",{staticClass:"my-input-value",attrs:{placeholder:"请选择"},model:{value:e.selectedTargetVersionId,callback:function(t){e.selectedTargetVersionId=t},expression:"selectedTargetVersionId"}},e._l(e.upgradeVersionInfoList,function(e){return n("el-option",{key:e.versionId,attrs:{label:e.versionTag,value:e.versionId}})}),1)],1)])]),n("div",{staticClass:"dialog-button-container"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.confirm}},[e._v("确定")]),n("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取消")])],1)])]):e._e()},D=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-key"},[a("span",[e._v("选择版本：")])])}],V={props:["isShow","companyId"],data:function(){return{selectedTargetVersionId:null,upgradeVersionInfoList:[]}},mounted:function(){},watch:{isShow:function(){this.isShow&&(this.projectName=null,this.projectDescription=null,this.queryCompanyRollbackeVersion())}},methods:{close:function(){this.$emit("close")},confirm:function(){this.doRollback()},checkParams:function(){return this.companyId?this.selectedTargetVersionId?0:(alert("请选择版本"),1):(alert("页面过期，请刷新后再尝试"),1)},doRollback:function(){if(!this.checkParams()){var e=this,t=new NewRollbackSchedule;t.companyId=this.companyId,t.targetVersionId=this.selectedTargetVersionId,t.operator=this.$util.getOaUserName(),this.$api.addRollbackSchedule(t,function(t){null!=t&&t.errorMsg?alert(t.errorMsg):(alert("添加成功"),e.$emit("confirm"))})}},queryCompanyRollbackeVersion:function(){var e=this,t=this.companyId;this.$api.reqCompanyRollbackVersion(t,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return void(e.upgradeVersionInfoList=[]);e.upgradeVersionInfoList=t}})}}},H=V,x=(a("154e"),Object(c["a"])(H,N,D,!1,null,"24012177",null)),R=x.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"dialog-bg"},[n("div",{staticClass:"dialog-container"},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[e._v(e._s(e.companyName)+" 维护记录")]),n("div",{staticClass:"dialog-close"},[n("a",{attrs:{href:"#"},on:{click:e.close}},[n("img",{attrs:{src:a("6cef")}})])])]),n("div",{staticClass:"dialog-content"},[n("table",[e._m(0),e._l(e.maintenanceHistoryList,function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(e.convertTimestampToString(t.scheduledTimestamp)))]),n("td",[e._v(e._s(e.OPERATE_TYPE[t.operateType].label))]),n("td",[e._v(e._s(t.oldVersionTag))]),n("td",[e._v(e._s(t.targetVersionTag))]),n("td",e._l(t.maintenanceTimeSpans,function(t,a){return n("span",{key:a,staticClass:"tabItem"},[e._v("\n              "+e._s(e.MAINTENANCE_TIMESPAN[t].label)+"\n            ")])}),0),n("td",[e._v(e._s(e.convertTimestampToString(t.createScheduleTimestamp)))])])})],2),e.nodata?n("div",{staticClass:"body-content-nodata"},[e._v("无数据")]):e._e()]),n("div",{staticClass:"dialog-button-container"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.close}},[e._v("确定")])],1)])]):e._e()},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{attrs:{bgColor:"#F8FCFF"}},[a("th",{attrs:{width:"200"}},[e._v("维护时间")]),a("th",{attrs:{width:"100"}},[e._v("维护类型")]),a("th",{attrs:{width:"100"}},[e._v("维护前版本")]),a("th",{attrs:{width:"100"}},[e._v("目标版本")]),a("th",{attrs:{width:"200"}},[e._v("维护时段")]),a("th",{attrs:{width:"200"}},[e._v("计划提交时间")])])}],K={props:["isShow","companyId","companyName"],data:function(){return{MAINTENANCE_TIMESPAN:this.$config.MAINTENANCE_TIMESPAN.ITEMS,OPERATE_TYPE:this.$config.OPERATE_TYPE.ITEMS,selectedTargetVersionId:null,maintenanceHistoryList:[],nodata:!0}},mounted:function(){},watch:{isShow:function(){this.isShow&&(this.projectName=null,this.projectDescription=null,this.queryMaintenanceHistory())}},methods:{close:function(){this.$emit("close")},queryMaintenanceHistory:function(){var e=this,t=this.companyId;this.$api.reqMaintenanceHistory(t,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return e.maintenanceHistoryList=[],void(e.nodata=!0);e.maintenanceHistoryList=t,e.nodata=!1}})},convertTimestampToString:function(e){return this.$timeUtil.getYYYY_MM_DD_HH_MM_SS(1e3*e)}}},j=K,U=(a("40f0"),Object(c["a"])(j,q,L,!1,null,"949bea76",null)),Y=U.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"dialog-bg"},[n("div",{staticClass:"dialog-container"},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[e._v("设置公司版本(公司ID："+e._s(e.maintenance.companyId)+")")]),n("div",{staticClass:"dialog-close"},[n("a",{attrs:{href:"#"},on:{click:e.close}},[n("img",{attrs:{src:a("6cef")}})])])]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"input-item"},[e._m(0),n("div",{staticClass:"input-value my-input-value"},[n("el-checkbox",{attrs:{label:"跟随最新版本",name:"type"},model:{value:e.keepLatest,callback:function(t){e.keepLatest=t},expression:"keepLatest"}})],1)])]),n("div",{staticClass:"dialog-button-container"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.confirm}},[e._v("确定")]),n("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取消")])],1)])]):e._e()},z=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-key"},[a("span",[e._v("是否跟随新最版本：")])])}],G={props:["isShow","maintenance"],data:function(){return{keepLatest:!1,upgradeVersionInfoList:[]}},mounted:function(){},watch:{isShow:function(){this.isShow&&this.maintenance&&(this.keepLatest=this.maintenance.keepLatest)}},methods:{close:function(){this.$emit("close")},confirm:function(){this.doSetVersionTag()},checkParams:function(){return this.maintenance?0:(alert("页面过期，请刷新后再尝试"),1)},doSetVersionTag:function(){if(!this.checkParams()){var e=this;this.$api.updateKeepLatestTag(this.maintenance.companyId,this.keepLatest,function(t){null!=t&&t.errorMsg?alert(t.errorMsg):(alert("设置成功"),e.$emit("confirm"))})}}}},B=G,W=(a("c50b"),Object(c["a"])(B,F,z,!1,null,"5932f448",null)),X=W.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isShow?n("div",{staticClass:"dialog-bg"},[n("div",{staticClass:"dialog-container"},[n("div",{staticClass:"dialog-header"},[n("div",{staticClass:"dialog-title"},[e._v("初始化公司版本(公司ID："+e._s(e.maintenance.companyId)+")")]),n("div",{staticClass:"dialog-close"},[n("a",{attrs:{href:"#"},on:{click:e.close}},[n("img",{attrs:{src:a("6cef")}})])])]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"input-item"},[e._m(0),n("div",{staticClass:"input-value my-input-value"},[n("el-select",{staticClass:"my-input-value",attrs:{placeholder:"请选择"},model:{value:e.selectedTargetVersionId,callback:function(t){e.selectedTargetVersionId=t},expression:"selectedTargetVersionId"}},e._l(e.initVersionInfoList,function(e){return n("el-option",{key:e.versionId,attrs:{label:e.versionTag,value:e.versionId}})}),1)],1)])]),n("div",{staticClass:"dialog-button-container"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.confirm}},[e._v("确定")]),n("el-button",{attrs:{size:"medium"},on:{click:e.close}},[e._v("取消")])],1)])]):e._e()},Q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-key"},[a("span",[e._v("初始版本：")])])}],Z={props:["isShow","maintenance"],data:function(){return{selectedTargetVersionId:null,initVersionInfoList:[]}},mounted:function(){},watch:{isShow:function(){this.isShow&&this.maintenance&&this.queryServerVersions()}},methods:{close:function(){this.$emit("close")},confirm:function(){this.doInit()},checkParams:function(){return this.maintenance?this.selectedTargetVersionId?0:(alert("请选择初始版本"),1):(alert("页面过期，请刷新后再尝试"),1)},doInit:function(){if(!this.checkParams()){var e=this;this.$api.initCompanyVersion(this.maintenance.companyId,this.selectedTargetVersionId,function(t){null!=t&&t.errorMsg?alert(t.errorMsg):(alert("设置成功"),e.$emit("confirm"))})}},queryServerVersions:function(){var e=this;this.companyId;this.$api.reqServerVersions(function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return void(e.initVersionInfoList=[]);e.initVersionInfoList=t}})}}},ee=Z,te=(a("8b09"),Object(c["a"])(ee,J,Q,!1,null,"ef8bbe96",null)),ae=te.exports,ne={components:{"dialog-update":P,"dialog-rollback":R,"dialog-maintenance":Y,"dialog-version-tag":X,"dialog-init-version":ae},data:function(){return{totalNum:0,currentPage:1,pageSize:10,isShowUpdateDialog:!1,isShowRollbackDialog:!1,isShowMaintenanceHistoryDialog:!1,isSHowSetVersionTagDialog:!1,isShowInitVersionDialog:!1,MAINTENANCE_TIMESPAN:this.$config.MAINTENANCE_TIMESPAN.ITEMS,MAINTENANCE_STATE:this.$config.MAINTENANCE_STATE.ITEMS,searchKeyCompanyId:null,searchKeyCompanyName:null,searchKeyVersionTag:null,searchKeyMaintenanceTimeSpan:null,searchKeyMaintenanceState:null,nodata:!0,maintenanceList:[],existVersionTags:[],selectedCompanyIds:[],selectedCompanyId:null,selectedCompanyName:null,selectedProject:null,selectedMaintenance:null}},mounted:function(){this.queryCompanyServiceMaintenanceList(),this.queryCompanyExistVersionTags()},methods:{gotoTabCompanyList:function(){var e=this.$util.getCompanyListUrl();e||alert("获取不到公司列表url，请联系开发人员"),window.location.href=e},gotoTabMaintenance:function(){this.$router.push({name:"maintenance"})},gotoTabPlan:function(){this.$router.push({name:"plan"})},gotoServiceDetailPage:function(e){this.$router.push({name:"serviceDetail",params:{companyId:e.companyId,companyName:e.companyName,versionTag:e.versionTag}})},onPageChange:function(e){this.currentPage=e,this.queryCompanyServiceMaintenanceList()},handleSizeChange:function(e){this.pageSize=e,this.queryCompanyServiceMaintenanceList()},query:function(){this.queryCompanyServiceMaintenanceList()},queryCompanyServiceMaintenanceList:function(){var e=this,t=new CompanyServiceMaintenanceFilter;this.searchKeyCompanyId&&(t.companyId=this.searchKeyCompanyId),this.searchKeyCompanyName&&(t.companyNamePartical=this.searchKeyCompanyName),this.searchKeyVersionTag&&(t.versionTag=this.searchKeyVersionTag),this.searchKeyMaintenanceTimeSpan&&(t.maintenanceTimeSpan=MaintenanceTimeSpan[this.searchKeyMaintenanceTimeSpan]),this.searchKeyMaintenanceState&&(t.maintenanceState=MaintenanceState[this.searchKeyMaintenanceState]);var a=new IndexedPageOption;a.needTotalCount=!0,a.pageIndex=this.currentPage-1,a.pageSize=this.pageSize,this.$api.reqCompanyServiceMaintenance(t,a,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||null==t.page||t.page.length<1)return e.maintenanceList=[],e.totalNum=0,void(e.nodata=!0);e.nodata=!1,e.maintenanceList=t.page,e.totalNum=t.total}})},queryCompanyExistVersionTags:function(){var e=this;this.$api.reqCompanyExistVersionTags(function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return void(e.existVersionTags=[]);e.existVersionTags=t}})},showAddUpdatePlanDialog:function(){this.selectedCompanyIds&&this.selectedCompanyIds.length>0?this.isShowUpdateDialog=!0:alert("请选择公司")},confirmUpdate:function(){this.isShowUpdateDialog=!1,this.queryProjectList()},cancelUpdate:function(){this.isShowUpdateDialog=!1},showRollbackDialog:function(e){this.selectedCompanyId=e.companyId,this.isShowRollbackDialog=!0},confirmRollback:function(){this.isShowRollbackDialog=!1,this.queryCompanyServiceMaintenanceList()},cancelRollback:function(){this.isShowRollbackDialog=!1},showMaintenanceHistoryDialog:function(e){this.selectedCompanyId=e.companyId,this.selectedCompanyName=e.companyName,this.isShowMaintenanceHistoryDialog=!0},closeMaintenanceHistoryDialog:function(){this.isShowMaintenanceHistoryDialog=!1},getItemClass:function(e){return e.versionDifferent?"error-item":""},showSettingDialog:function(e){this.selectedMaintenance=e,this.isSHowSetVersionTagDialog=!0},closeSetVersionTagDialog:function(){this.isSHowSetVersionTagDialog=!1},confirmSetVersionTag:function(){this.isSHowSetVersionTagDialog=!1,this.queryCompanyServiceMaintenanceList()},showInitVersionDialog:function(e){this.selectedMaintenance=e,this.isShowInitVersionDialog=!0},closeInitVersionDialog:function(){this.isShowInitVersionDialog=!1},confirmInitVersionDialog:function(){this.isShowInitVersionDialog=!1,this.queryCompanyServiceMaintenanceList()},showOperation:function(e){return e.versionTag?"idc"!=this.getEnv()?2:0:1},getEnv:function(){return this.$util.getEnv()}}},ie=ne,se=(a("0554"),Object(c["a"])(ie,I,M,!1,null,"da476cde",null)),oe=se.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/project"}}},[e._v("公司管理 维护计划")])],1)],1),a("div",{staticClass:"header"},[a("div",{staticClass:"header-text"},[e._v("公司管理")]),a("ul",{staticClass:"header-tab"},[a("li",{on:{click:e.gotoTabCompanyList}},[e._v("公司列表")]),a("li",{on:{click:e.gotoTabMaintenance}},[e._v("服务维护")]),a("li",{staticClass:"active"},[e._v("维护计划")])])]),a("div",{staticClass:"body"},[a("div",{staticClass:"body-header"},[a("div",{staticClass:"body-header-left"},[a("span",[e._v("公司ID：")]),a("el-input",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"公司ID",clearable:""},model:{value:e.searchKeyCompanyId,callback:function(t){e.searchKeyCompanyId=t},expression:"searchKeyCompanyId"}}),a("span",[e._v("公司名称：")]),a("el-input",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"公司名称",clearable:""},model:{value:e.searchKeyCompanyName,callback:function(t){e.searchKeyCompanyName=t},expression:"searchKeyCompanyName"}}),a("span",[e._v("目标版本：")]),a("el-input",{staticClass:"body-header-input body-header-component",attrs:{placeholder:"目标版本",clearable:""},model:{value:e.searchKeyVersionTag,callback:function(t){e.searchKeyVersionTag=t},expression:"searchKeyVersionTag"}}),a("el-button",{staticClass:"body-header-component",attrs:{type:"primary",size:"small"},on:{click:e.query}},[e._v("查询")])],1),a("div",{staticClass:"body-header-right"},[a("el-button",{staticClass:"body-header-component",attrs:{type:"primary",size:"small"},on:{click:e.showCancelMaintenanceScheduleDialog}},[e._v("终止")])],1)]),a("div",{staticClass:"body-content"},[a("table",[e._m(0),e._l(e.maintenanceScheduleDetailList,function(t,n){return a("tr",{key:n},[a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedCompanyIds,expression:"selectedCompanyIds"}],attrs:{type:"checkbox",id:t.companyId},domProps:{value:t.companyId,checked:Array.isArray(e.selectedCompanyIds)?e._i(e.selectedCompanyIds,t.companyId)>-1:e.selectedCompanyIds},on:{change:function(a){var n=e.selectedCompanyIds,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=t.companyId,r=e._i(n,o);i.checked?r<0&&(e.selectedCompanyIds=n.concat([o])):r>-1&&(e.selectedCompanyIds=n.slice(0,r).concat(n.slice(r+1)))}else e.selectedCompanyIds=s}}})]),a("td",[e._v(e._s(e.convertTimestampToString(t.createScheduleTime)))]),a("td",[e._v(e._s(t.companyId))]),a("td",[e._v(e._s(t.companyName))]),a("td",[e._v(e._s(t.companyCode))]),a("td",[e._v(e._s(e.OPERATE_TYPE[t.operateType].label))]),a("td",[e._v(e._s(t.oldVersionTag))]),a("td",[e._v(e._s(t.targetVersionTag))]),a("td",e._l(t.maintenanceTimeSpans,function(t,n){return a("span",{key:n,staticClass:"tabItem"},[e._v("\n              "+e._s(e.MAINTENANCE_TIMESPAN[t].label)+"\n            ")])}),0),a("td",[e._v(e._s(e.convertTimestampToString(t.scheduleMaintenanceTime)))]),a("td",[e._v(e._s(t.creater))])])})],2),e.nodata?a("div",{staticClass:"body-content-nodata"},[e._v("无数据")]):e._e()]),a("div",{staticClass:"no-pagination"})])])},ce=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{attrs:{bgColor:"#F8FCFF"}},[a("th",{attrs:{width:"100"}}),a("th",{attrs:{width:"600"}},[e._v("创建时间")]),a("th",{attrs:{width:"300"}},[e._v("公司ID")]),a("th",{attrs:{width:"600"}},[e._v("公司名称")]),a("th",{attrs:{width:"600"}},[e._v("公司登名名")]),a("th",{attrs:{width:"600"}},[e._v("维护类型")]),a("th",{attrs:{width:"600"}},[e._v("当前版本")]),a("th",{attrs:{width:"600"}},[e._v("目标版本")]),a("th",{attrs:{width:"600"}},[e._v("维护时段")]),a("th",{attrs:{width:"600"}},[e._v("计划维护时间")]),a("th",{attrs:{width:"600"}},[e._v("创建人")])])}],le={data:function(){return{isShowAdditionDialog:!1,isShowEditionDialog:!1,MAINTENANCE_TIMESPAN:this.$config.MAINTENANCE_TIMESPAN.ITEMS,OPERATE_TYPE:this.$config.OPERATE_TYPE.ITEMS,searchKeyCompanyId:null,searchKeyCompanyName:null,searchKeyVersionTag:null,nodata:!0,maintenanceScheduleDetailList:[],selectedCompanyIds:[]}},mounted:function(){this.queryMaintenanceScheduleDetailList()},methods:{gotoTabCompanyList:function(){var e=this.$util.getCompanyListUrl();e||alert("获取不到公司列表url，请联系开发人员"),window.location.href=e},gotoTabMaintenance:function(){this.$router.push({name:"maintenance"})},gotoTabPlan:function(){this.$router.push({name:"plan"})},query:function(){this.queryMaintenanceScheduleDetailList()},queryMaintenanceScheduleDetailList:function(){var e=this,t=new ReqMaintenanceScheduleDetailFilter;this.searchKeyCompanyId&&(t.companyId=this.searchKeyCompanyId),this.searchKeyCompanyName&&(t.companyNamePartical=this.searchKeyCompanyName),this.searchKeyVersionTag&&(t.versionTag=this.searchKeyVersionTag),this.$api.reqMaintenanceScheduleDetail(t,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return e.maintenanceScheduleDetailList=[],void(e.nodata=!0);e.nodata=!1,e.maintenanceScheduleDetailList=t}})},showCancelMaintenanceScheduleDialog:function(){if(!this.selectedCompanyIds||this.selectedCompanyIds.length<1)alert("请选择终止的计划");else if(confirm("确认终止公司（"+this.selectedCompanyIds+"）的维护计划?")){var e=this;this.$api.cancelMaintenanceSchedule(this.selectedCompanyIds,function(t){null!=t&&t.errorMsg?alert(t.errorMsg):(alert("终止成功"),e.queryMaintenanceScheduleDetailList())})}},convertTimestampToString:function(e){return this.$timeUtil.getYYYY_MM_DD_HH_MM_SS(1e3*e)}}},de=le,ue=(a("d7a2"),Object(c["a"])(de,re,ce,!1,null,"76e071ae",null)),he=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/maintenance"}}},[e._v("公司管理 服务维护")]),a("el-breadcrumb-item",{attrs:{to:{path:"/serviceDetail"}}},[e._v("云服务详情")])],1)],1),a("div",{staticClass:"header"},[a("div",{staticClass:"header-text"},[e._v(e._s(e.companyName)+" 云服务详情 (公司版本："+e._s(e.versionTag)+")")])]),a("div",{staticClass:"body"},[e._m(0),a("div",{staticClass:"body-content"},[a("table",[e._m(1),e._l(e.detailList,function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.groupId))]),a("td",[e._v(e._s(t.groupName))]),null==t.tradeType||void 0==t.tradeType?a("td",[e._v("-")]):a("td",[e._v(e._s(e.TRADE_TYPE[t.tradeType].label))]),a("td",[e._v(e._s(e.HOSTING_SERVICE_STATE[t.hostingServiceState].label))]),a("td",[e._v(e._s(t.versionTag))])])})],2),e.nodata?a("div",{staticClass:"body-content-nodata"},[e._v("无数据")]):e._e()]),a("div",{staticClass:"no-pagination"})])])},me=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body-header"},[a("div",{staticClass:"body-header-left"}),a("div",{staticClass:"body-header-right"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{attrs:{bgColor:"#F8FCFF"}},[a("th",{attrs:{width:"600"}},[e._v("云服务ID")]),a("th",{attrs:{width:"1600"}},[e._v("云服务名称")]),a("th",{attrs:{width:"600"}},[e._v("交易环境")]),a("th",{attrs:{width:"600"}},[e._v("服务状态")]),a("th",{attrs:{width:"600"}},[e._v("系统版本")])])}],ve={data:function(){return{HOSTING_SERVICE_STATE:this.$config.HOSTING_SERVICE_STATE.ITEMS,TRADE_TYPE:this.$config.TRADE_TYPE.ITEMS,isShowAdditionDialog:!1,isShowEditionDialog:!1,companyId:null,companyName:null,versionTag:null,nodata:!0,detailList:[]}},mounted:function(){this.companyId=this.$route.params.companyId,this.companyName=this.$route.params.companyName,this.versionTag=this.$route.params.versionTag,this.queryCompanyServiceDetail()},methods:{queryCompanyServiceDetail:function(){var e=this;this.$api.reqCompanyServiceDetail(this.companyId,function(t){if(null!=t&&t.errorMsg)alert(t.errorMsg);else{if(null==t||t.length<1)return e.detailList=[],void(e.nodata=!0);e.nodata=!1,e.detailList=t}})}}},ge=ve,fe=(a("1342"),Object(c["a"])(ge,pe,me,!1,null,"f55388a4",null)),ye=fe.exports;n["default"].use(u["a"]);var _e=new u["a"]({routes:[{path:"/",name:"home",redirect:"/maintenance",component:b},{path:"/maintenance",name:"maintenance",component:oe},{path:"/plan",name:"plan",component:he},{path:"/serviceDetail",name:"serviceDetail",component:ye}]}),Ce=a("2f62");n["default"].use(Ce["a"]);var Te=new Ce["a"].Store({state:{},mutations:{},actions:{}}),Se=a("5c96"),be=a.n(Se);a("0fae");n["default"].use(be.a);var Ie=a("f499"),Me=a.n(Ie),Ee=(a("4917"),a("3b2b"),{getCookie:function(e){var t,a=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(a))?t[2]:null},setCookie:function(e,t,a,n){var i=new Date;i.setDate(i.getDate()+a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+i.toGMTString())+(null==n?"":";domain="+n)}}),we={PROXY_ROUTER:{SERVANT:"service_maintenance_webapi",LOCALHOST:{HOST:"localhost:8080",PROXY_HOST:"https://devproxy.xueqiao.cn"},DEV:{HOST:"company-service-maintenance.devoa.xueqiao.cn",PROXY_HOST:"https://devproxy.xueqiao.cn"},GAMMA:{HOST:"company-service-maintenance.gaoa.xueqiao.cn",PROXY_HOST:"https://gaproxy.xueqiao.cn"},IDC:{HOST:"company-service-maintenance.oa.xueqiao.cn",PROXY_HOST:"https://proxy.xueqiao.cn"}},TOP_HOST:{LOCALHOST:{HOST:"localhost:8080",TOP_HOST:"devoa.xueqiao.cn"},DEV:{HOST:"company-service-maintenance.devoa.xueqiao.cn",TOP_HOST:"devoa.xueqiao.cn"},GAMMA:{HOST:"company-service-maintenance.gaoa.xueqiao.cn",TOP_HOST:"gaoa.xueqiao.cn"},IDC:{HOST:"company-service-maintenance.oa.xueqiao.cn",TOP_HOST:"oa.xueqiao.cn"}},MAINTENANCE_TIMESPAN:{DESCRIPTION:"服务维护时间段",ITEMS:[{value:"WEEKEND",label:"周末"},{value:"WORKING_DAY",label:"工作日"}]},MAINTENANCE_STATE:{DESCRIPTION:"服务维护状态",ITEMS:[{value:"EMPTY",label:"空闲"},{value:"SCHEDULED",label:"计划中"}]},OPERATE_TYPE:{DESCRIPTION:"服务操作类型",ITEMS:[{value:"UPGRADE",label:"升级"},{value:"ROLLBACK",label:"回退"}]},HOSTING_SERVICE_STATE:{DESCRIPTION:"托管服务状态",ITEMS:[{value:"WAITING",label:"等待中"},{value:"OPENING",label:"开通中"},{value:"UPGRADING",label:"升级中"},{value:"WORKING",label:"工作中"},{value:"EXPIRED",label:"已过期"},{value:"RELEASED",label:"已释放"},{value:"UNKNOWN",label:"未知"}]},TRADE_TYPE:{DESCRIPTION:"交易类型",ITEMS:[{value:"NONE",label:"未设定"},{value:"REAL",label:"实盘"},{value:"SIM",label:"模拟盘"}]}},Ae={message:{errorMsg:"接口调用失败",serverBusy:"服务繁忙"}},Oe=new Thrift.Transport(""),ke=new Thrift.Protocol(Oe),Pe=new CompanyServiceMaintenanceWebapiClient(ke),Ne={reqCompanyServiceMaintenance:function(e,t,a){var n=Pe.send_reqCompanyServiceMaintenance(new PlatformArgs,e,t);this.doHttpPost(n,function(){var e=null;try{e=Pe.recv_reqCompanyServiceMaintenance(),a(e)}catch(t){alert(Me()(t))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};a(e)})},reqMaintenanceScheduleDetail:function(e,t){var a=Pe.send_reqMaintenanceScheduleDetail(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_reqMaintenanceScheduleDetail(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},reqCompanyExistVersionTags:function(e){var t=Pe.send_reqCompanyExistVersionTags(new PlatformArgs);this.doHttpPost(t,function(){var t=null;try{t=Pe.recv_reqCompanyExistVersionTags(),e(t)}catch(a){alert(Me()(a))}},function(){var t={errorCode:-1,errorMsg:Ae.message.errorMsg};e(t)})},reqCompanyUpgradeVersion:function(e,t){var a=Pe.send_reqCompanyUpgradeVersion(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_reqCompanyUpgradeVersion(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},reqCompanyRollbackVersion:function(e,t){var a=Pe.send_reqCompanyRollbackVersion(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_reqCompanyRollbackVersion(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},addUpgradeSchedule:function(e,t){var a=Pe.send_addUpgradeSchedule(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_addUpgradeSchedule(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},addRollbackSchedule:function(e,t){var a=Pe.send_addRollbackSchedule(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_addRollbackSchedule(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},reqMaintenanceHistory:function(e,t){var a=Pe.send_reqMaintenanceHistory(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_reqMaintenanceHistory(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},reqCompanyServiceDetail:function(e,t){var a=Pe.send_reqCompanyServiceDetail(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_reqCompanyServiceDetail(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},cancelMaintenanceSchedule:function(e,t){var a=Pe.send_cancelMaintenanceSchedule(new PlatformArgs,e);this.doHttpPost(a,function(){var e=null;try{e=Pe.recv_cancelMaintenanceSchedule(),t(e)}catch(a){alert(Me()(a))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};t(e)})},updateKeepLatestTag:function(e,t,a){var n=Pe.send_updateKeepLatestTag(new PlatformArgs,e,t);this.doHttpPost(n,function(){var e=null;try{e=Pe.recv_updateKeepLatestTag(),a(e)}catch(t){alert(Me()(t))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};a(e)})},reqServerVersions:function(e){var t=Pe.send_reqServerVersions(new PlatformArgs);this.doHttpPost(t,function(){var t=null;try{t=Pe.recv_reqServerVersions(),e(t)}catch(a){alert(Me()(a))}},function(){var t={errorCode:-1,errorMsg:Ae.message.errorMsg};e(t)})},initCompanyVersion:function(e,t,a){var n=Pe.send_initCompanyVersion(new PlatformArgs,e,t);this.doHttpPost(n,function(){var e=null;try{e=Pe.recv_initCompanyVersion(),a(e)}catch(t){alert(Me()(t))}},function(){var e={errorCode:-1,errorMsg:Ae.message.errorMsg};a(e)})},test:function(){alert("empty test")},doHttpPost:function(e,t,a){var n=this.getProxyHost();if(n){var i=n+"?servant="+we.PROXY_ROUTER.SERVANT;$.ajax({url:i,data:e,type:"POST",cache:!1,contentType:"application/json",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-Oa-Falcon-Sig",Ee.getCookie("oa_falcon_sig")),e.setRequestHeader("X-Oa-User-Id",Ee.getCookie("oa_user_id")),e.setRequestHeader("X-Oa-User-Name",Ee.getCookie("oa_user_name")),e.setRequestHeader("X-Oa-User-Secret",Ee.getCookie("oa_user_secret"))},success:function(e){Oe.setRecvBuffer(e),t()},error:function(){a()}})}else alert("proxyHost is empty, please refresh and try again")},getProxyHost:function(){var e=window.location.host;return"192.168.0.62:8080"===e?"https://company-service-maintenance.devoa.xueqiao.cn/webapi":"localhost:8080"===e?"https://company-service-maintenance.devoa.xueqiao.cn/webapi":"/webapi"}},De={getCompanyListUrl:function(){var e="https://adminweb.",t="/admin/SledCompanyAdmin/show",a=window.location.host;return"192.168.0.62:8080"===a?e+we.TOP_HOST.LOCALHOST.TOP_HOST+t:a===we.TOP_HOST.LOCALHOST.HOST?e+we.TOP_HOST.LOCALHOST.TOP_HOST+t:a===we.TOP_HOST.DEV.HOST?e+we.TOP_HOST.DEV.TOP_HOST+t:a===we.TOP_HOST.GAMMA.HOST?e+we.TOP_HOST.GAMMA.TOP_HOST+t:a===we.TOP_HOST.IDC.HOST?e+we.TOP_HOST.IDC.TOP_HOST+t:null},getOaUserName:function(){return Ee.getCookie("oa_user_name")},getEnv:function(){var e=window.location.host;return"192.168.0.62:8080"===e?"dev":e===we.TOP_HOST.LOCALHOST.HOST?"dev":e===we.TOP_HOST.DEV.HOST?"dev":e===we.TOP_HOST.GAMMA.HOST?"gamma":e===we.TOP_HOST.IDC.HOST?"idc":void 0}};a("a481");Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e};var Ve={getYYYY_MM_DD_HH_MM_SS:function(e){return new Date(e).Format("yyyy-MM-dd hh:mm:ss")}};a("aede"),a("267d");n["default"].config.productionTip=!1,n["default"].prototype.$api=Ne,n["default"].prototype.$cookie=Ee,n["default"].prototype.$config=we,n["default"].prototype.$util=De,n["default"].prototype.$timeUtil=Ve,new n["default"]({router:_e,store:Te,render:function(e){return e(d)}}).$mount("#app")},"64a9":function(e,t,a){},"6cef":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAORJREFUOBGlU9sNwiAUhTJDdzBxBxP9ZJeO4I+O0F34beIOJt3BIfAc5BqQR016E9ILnHPuqyjv/eCcu2GN6k8jlhxydXSuWusn+Gdr7aunEwMtIB/BuQ8AzyTzAP4SAVWNHzIDzprIykWRSQsTBLZEWmTyvgItEZ7DpOaiT5kAkWk0bFeewQ6tJhcCRFMETX2QyD1shcCpNiFOYZcVAlICVBmdJXDRr444K0HI8ScJDQORtt3EGllq7t2FDHqATwL5dNKJ8C2MvRRFgN8alk2c0pol7ZQoPu+MMZfk7UwK5F3P+Q1/IdpMdUOBIAAAAABJRU5ErkJggg=="},"71b2":function(e,t,a){},"897e":function(e,t,a){},"8b09":function(e,t,a){"use strict";var n=a("5495"),i=a.n(n);i.a},"9dcb":function(e,t,a){},"9fce":function(e,t,a){},aede:function(e,t,a){},c50b:function(e,t,a){"use strict";var n=a("71b2"),i=a.n(n);i.a},cf05:function(e,t,a){e.exports=a.p+"img/logo.82b9c7a5.png"},d7a2:function(e,t,a){"use strict";var n=a("f298"),i=a.n(n);i.a},f298:function(e,t,a){},fc7e:function(e,t,a){}});
//# sourceMappingURL=app.17af1bc9.js.map